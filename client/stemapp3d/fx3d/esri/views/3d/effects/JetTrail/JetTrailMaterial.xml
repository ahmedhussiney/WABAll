<?xml version="1.0" encoding="UTF-8"?><snippets><snippet name="jetTrailVS"><![CDATA[
  $defines attribute vec2 $auxpos1; attribute vec3 $auxpos2; uniform float vme;uniform mat4 pmt;uniform mat4 vmt;uniform sampler2D vfvt;uniform vec2 vfvts;uniform sampler2D avte;uniform vec2 avtes;uniform float ail;uniform float brs;uniform float fte;uniform vec2 wmmv;uniform sampler2D cbte;varying vec4 u;varying vec3 v;varying vec3 w;varying vec4 x; $linearInterpolator $lonlat2position $localTrans $curveInter void main(void){float a=fract(auxpos1.x*2.0/avtes.x);float b=floor(auxpos1.x*2.0/avtes.y)/avtes.y;vec4 c=texture2D(avte,vec2(a,b));if(c.r==auxpos1.x){vec3 d=c.gba;a=fract((auxpos1.x*2.0+1.0)/avtes.x);b=floor((auxpos1.x*2.0+1.0)/avtes.y)/avtes.y;vec4 e=texture2D(avte,vec2(a,b));vec3 f=e.gba;vec3 g,h,i,j;float k, z;float l=1.0;float m=0.0;x=vec4(auxpos2,0.0);if(vme==0.0){d=lonlat2position(d);f=lonlat2position(f);g=(d+f)*0.5;h=normalize(g);i=d-f;k=length(i);g=h*(length(g)+k*0.6);if(k<=1000.0){z=32.0;}else if(k<=10000.0){z=24.0;}else if(k<=500000.0){z=18.0;}else if(k<=1000000.0){z=40.0;}else{z=floor(k*0.00001);}m=mod(auxpos2.y+(z*2.0-1.0)/ail*fte,z*2.0-1.0);if((m>=z)&&(m<(z*2.0-1.0))){l=-1.0;m-=z;}vec3 n=normalize(i);vec3 o=g+n*(k*0.6*l);float p=m/z;p=clamp(p,0.0,1.0);if(l<=0.0){if(p>(z-3.0)/z){x.w=4.0;}j=getPoint(p,g,o,f,f);}else{j=getPoint(p,d,d,o,g);}v=normalize(j);}else if(vme==1.0){d=wgs84ToWebMerc(d);f=wgs84ToWebMerc(f);g=(d+f)*0.5;h=vec3(0.0,0.0,1.0);i=d-f;k=length(i);g=g+h*(k*0.3);if(k<=1000.0){z=48.0;}else if(k<=10000.0){z=42.0;}else if(k<=100000.0){z=32.0;}else if(k<=1000000.0){z=24.0;}else if(k<=2000000.0){z=36.0;}else{z=floor(k*0.000006);}m=mod(auxpos2.y+(z*2.0-1.0)/ail*fte,z*2.0-1.0);if((m>=z)&&(m<(z*2.0-1.0))){l=-1.0;m-=z;}vec3 n=normalize(i);vec3 o=g+n*(k*0.3*l);float p=m/z;p=clamp(p,0.0,1.0);if(l<=0.0){if(p>(z-3.0)/z){x.w=4.0;}j=getPoint(p,g,o,f,f);}else{j=getPoint(p,d,d,o,g);}v=vec3(0.0,0.0,1.0);}gl_Position=pmt*vmt*vec4(j,1.0);w=j;a=fract(auxpos1.y/vfvts.x);b=floor(auxpos1.y/vfvts.y)/vfvts.y;float q=(texture2D(vfvt,vec2(a,b))).r;float r=getLinearValue(wmmv,q);if(auxpos2.x<2.0){gl_PointSize=brs*pow(2.718,r);}u=texture2D(cbte,vec2(r,0.5));}else{vec3 j=vec3(0.0,0.0,0.0);gl_Position=pmt*vmt*vec4(j,1.0);w=j;if(auxpos1.y<1.0){gl_PointSize=brs;}u=vec4(1.0,0.0,0.0,1.0);v=normalize(j);x=vec4(auxpos2,0.0);}}
]]></snippet><snippet name="jetTrailFS"><![CDATA[
  #ifdef GL_ES
  precision mediump float;
  #endif
  uniform sampler2D cmte;uniform float tcy;uniform vec3 ldn;uniform vec4 lat;uniform vec4 lde;uniform vec4 lsr;uniform vec3 cpsn;varying vec4 u;varying vec3 v;varying vec3 w;varying vec4 x; void main(){float a=tcy*0.01;gl_FragColor.rgb=u.xyz;gl_FragColor.a=1.0;if(x.x<2.0){gl_FragColor=(texture2D(cmte,gl_PointCoord)*gl_FragColor)+vec4(0.35,0.35,0.35,0.0);gl_FragColor.a*=a;}else if(x.x>2.0){if(x.w>0.0){discard;}else{gl_FragColor.a*=(a*(x.y)/x.z);}}else{discard;}if(gl_FragColor.r<=1e-6&&gl_FragColor.g<=1e-6&&gl_FragColor.b<=1e-6){gl_FragColor.rgb=vec3(0.1,0.1,0.1);}}
]]></snippet><snippet name="jetTrailPulseVS"><![CDATA[
  $defines attribute vec2 $auxpos1; attribute vec3 $auxpos2; uniform float vme;uniform mat4 pmt;uniform mat4 vmt;uniform sampler2D vfvt;uniform vec2 vfvts;uniform float ail;uniform vec2 prs;uniform float fte;uniform vec2 wmmv;uniform sampler2D cbte;varying vec4 m;varying vec3 n;varying vec3 p;varying vec3 y; $linearInterpolator $translationMat $localTrans $expoEaseOut void main(void){float a=fract(auxpos1.y/vfvts.x);float b=floor(auxpos1.y/vfvts.y)/vfvts.y;float c=(texture2D(vfvt,vec2(a,b))).r;float d=mod(fte,ail);c=getExpoEaseOutValue(d,0.0,c,ail);float e=getLinearValue(wmmv,c);vec3 f;vec2 g;float h=getScope(prs,e);if(h<Epsilon){h=1000.0;}if(auxpos1.x>=0.0){g=vec2(h*cos(auxpos1.x),h*sin(auxpos1.x));}else{g=vec2(0.0,0.0);}if(vme==0.0){mat4 i=getTransMat(auxpos2);f=(i*vec4(g,0.0,1.0)).xyz;n=normalize(f);}else if(vme==1.0){f=wgs84ToWebMerc(auxpos2);f.x+=g.x;f.y+=g.y;n=vec3(0.0,0.0,1.0);}gl_Position=pmt*vmt*vec4(f,1.0);p=f;m=texture2D(cbte,vec2(e,0.5));y=vec3(h,g);}
]]></snippet><snippet name="jetTrailPulseFS"><![CDATA[
  #ifdef GL_ES
  precision mediump float;
  #endif
  uniform float tcy;uniform vec3 ldn;uniform vec4 lat;uniform vec4 lde;uniform vec4 lsr;uniform vec3 cpsn;varying vec4 m;varying vec3 n;varying vec3 p;varying vec3 y; void main(){float a=tcy*0.01;gl_FragColor.rgb=m.xyz;gl_FragColor.a=1.0;float b=(length(y.yz)-y.x*0.7)/(y.x*0.3);if(b>-1.0){gl_FragColor.a*=(a*b);}else{gl_FragColor.a=0.0;}if(gl_FragColor.r<=1e-6&&gl_FragColor.g<=1e-6&&gl_FragColor.b<=1e-6){gl_FragColor.rgb=vec3(0.1,0.1,0.1);}}
]]></snippet></snippets>