<?xml version="1.0" encoding="UTF-8"?><snippets><snippet name="pointExtrudeVS"><![CDATA[
  $defines attribute vec3 $position; attribute vec3 $auxpos1; uniform float vme;uniform mat4 pmt;uniform mat4 vmt;uniform sampler2D svte;uniform sampler2D evte;uniform float ail;uniform vec3 sz;uniform sampler2D cbte;uniform vec3 btc;uniform float fte;uniform float sfr;uniform vec2 vfvs;uniform vec2 wmmv;uniform bool rpt;uniform float zoom;varying vec4 p;varying vec3 q;varying vec3 u; $linearInterpolator $translationMat $localTrans $quintEaseOut void main(void){float a=fract(auxpos1.x/vfvs.x);float b=floor(auxpos1.x/vfvs.y)/vfvs.y;float c=(texture2D(svte,vec2(a,b))).r;float d=(texture2D(evte,vec2(a,b))).r;float e=mod(fte,ail);float f=getQuintEaseInOutValue(e,c,d,ail);if(rpt) f=d;float o=getLinearValue(wmmv,f)*1.2;float g=auxpos1.y*sfr*2.0*PI;vec3 h=vec3(sz.x*cos(g),sz.x*sin(g),0.0);bool i=false;if(auxpos1.z==1.0) i=true;else if(auxpos1.z==0.0) i=false;vec3 j,k;mat4 l=mat4(1.0);if(vme==0.0){mat4 m=getTransMat(position);j=(m*vec4(h,1.0)).xyz;l=toRotationMat(m);vec4 n=vec4(0.0,0.0,1.0,0.0);k=(l*n).xyz;}else if(vme==1.0){j=wgs84ToWebMerc(position);j+=h;k=vec3(0.0,0.0,1.0);}k=normalize(k);if(i){p=texture2D(cbte,vec2(o,0.5));j+=(k*getScope(sz.yz,o));}else{p=vec4(btc,1.0);}gl_Position=pmt*vmt*vec4(j,1.0);q=normalize(rotateOnAxis(k,g-(2.0*PI*sfr*0.5),(l*vec4(1.0,0.0,0.0,1.0)).xyz));q=normalize(q+k);u=j;}
]]></snippet><snippet name="pointExtrudeFS"><![CDATA[
  #ifdef GL_ES
  precision mediump float;
  #endif
  uniform float tcy;uniform vec3 ldn;uniform vec4 lat;uniform vec4 lde;uniform vec4 lsr;uniform vec3 cps;varying vec4 p;varying vec3 q;varying vec3 u;const vec3 a=vec3(1.0,1.0,1.0);const vec3 b=vec3(1.0,1.0,1.0);const vec3 c=vec3(0.2,0.2,0.2);void main(){vec3 d=normalize(u-cps);vec3 e=normalize(q);vec3 f=normalize(reflect(d,e));float g=max(dot(f,ldn),.001);vec3 h=c*lsr.rgb*lsr.w*pow(g,10.0);vec3 i=a*lde.rgb*lde.w*clamp(dot(e,ldn),.0,1.0);vec3 x=b*lat.rgb*lat.w;vec3 j=vec3(x+i+h);gl_FragColor.xyz=p.xyz*j;float k=tcy*0.01;gl_FragColor.w=k;}
]]></snippet></snippets>